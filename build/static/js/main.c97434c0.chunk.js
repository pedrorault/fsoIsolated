(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),u=n(4),s=n(2),i=n(3),l=n.n(i),m="/api/persons",d=function(){return l.a.get(m).then((function(e){return e.data}))},f=function(e){return l.a.post("".concat(m),e).then((function(e){return e.data}))},E=function(e){return l.a.put("".concat(m,"/").concat(e.id),e)},b=function(e){return l.a.delete("".concat(m,"/").concat(e))},p=function(e){var t=e.isError,n=e.message;if(void 0===n||""===n)return null;var r=t?"red":"green";return a.a.createElement("div",{style:function(e){return{borderRadius:10,backgroundColor:"#b3bab5",border:"3px solid",borderColor:e,color:e}}(r)},a.a.createElement("p",null,n))},h=function(e){var t=e.persons,n=e.setPersons,o=e.setAlertMsg,c=Object(r.useState)(""),i=Object(s.a)(c,2),l=i[0],m=i[1],d=Object(r.useState)(""),b=Object(s.a)(d,2),p=b[0],h=b[1];return a.a.createElement("div",null,a.a.createElement("h3",null,"add a new"),a.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""===l||""===p)return alert("One or more fields empty");var r=t.find((function(e){return e.name===l}));void 0!==r?window.confirm("".concat(r.name," is already on the list, replace old number with a new one?"))&&E(Object(u.a)({},r,{number:p})).then((function(){n(t.map((function(e){return e.id===r.id?Object(u.a)({},e,{number:p}):e}))),o({isError:!1,message:"Updated ".concat(l)}),setTimeout((function(){return o({isError:!1,message:""})}),3e3)})).catch((function(e){o({isError:!0,message:"".concat(e)}),setTimeout((function(){return o({isError:!1,message:""})}),3e3)})):f({name:l,number:p,id:Math.random}).then((function(e){n(t.concat(e)),o({isError:!1,message:"Added ".concat(l)}),setTimeout((function(){return o({isError:!1,message:""})}),3e3)})).catch((function(e){o({isError:!0,message:"".concat(e)}),setTimeout((function(){return o({isError:!1,message:""})}),3e3)})),m(""),h("")}},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:l,onChange:function(e){return m(e.target.value)}})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:p,onChange:function(e){return h(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"Add"))))},v=function(e){var t=e.searchPersonField,n=e.handleSearch;return a.a.createElement("div",null,"filter shown with ",a.a.createElement("input",{value:t,onChange:n}))},g=function(e){var t=e.persons,n=e.setPersons,r=e.searchPersonField,o=e.setAlertMsg;return""===r?a.a.createElement("div",null,t.map((function(e,r){return a.a.createElement("p",{key:r},e.name," ",e.number,a.a.createElement("button",{onClick:function(){return r=e.name,a=e.id,void(window.confirm("Tem certeza que deseja deletar ".concat(r," da lista?"))&&b(a).then((function(){n(t.filter((function(e){return e.id!==a}))),o({isError:!1,message:"Deleted ".concat(r)}),setTimeout((function(){return o({isError:!1,message:""})}),3e3)})).catch((function(e){o({isError:!0,message:"".concat(e)}),setTimeout((function(){return o({isError:!1,message:""})}),3e3)})));var r,a}},"Delete"))}))):a.a.createElement("div",null,t.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())})).map((function(e,t){return a.a.createElement("p",{key:t},e.name," ",e.number,a.a.createElement("button",null,"Delete"))})))},P=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),u=Object(s.a)(c,2),i=u[0],l=u[1],m=Object(r.useState)({isError:!1,message:""}),f=Object(s.a)(m,2),E=f[0],b=f[1];Object(r.useEffect)((function(){d().then((function(e){return o(e)}))}),[]);var P={formProps:{persons:n,setPersons:o,setAlertMsg:b},searchProps:{searchPersonField:i,handleSearch:function(e){return l(e.target.value)}},resultsProps:{persons:n,setPersons:o,searchPersonField:i,setAlertMsg:b}};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(p,E),a.a.createElement(v,P.searchProps),a.a.createElement(h,P.formProps),a.a.createElement("h2",null,"Numbers"),a.a.createElement(g,P.resultsProps))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(P,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c97434c0.chunk.js.map