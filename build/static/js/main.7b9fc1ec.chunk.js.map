{"version":3,"sources":["services/contacts.js","components/Form.js","components/Notification.js","components/Results.js","components/SearchInput.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","person","post","put","id","delete","Form","persons","setPersons","setAlertMsg","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","find","name","undefined","window","confirm","contactService","number","map","per","isError","message","setTimeout","catch","error","msg","trim","v","concat","value","onChange","target","type","Notification","color","style","borderRadius","backgroundColor","border","borderColor","base","Results","searchPersonField","i","key","onClick","filter","e","toLowerCase","includes","result","SearchInput","handleSearch","App","setSearchField","alertMsg","useEffect","propsObj","formProps","searchProps","resultsProps","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b9fc1ec.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = \"/api/persons\"\n\nconst getAllContacts = () =>{\n    return axios.get(baseUrl).then(response=>response.data)    \n}\nconst addNewContact = (person) => {\n    return axios.post(`${baseUrl}`,person).then(response => response.data)\n}\nconst updateContact = (person) => {\n    return axios.put(`${baseUrl}/${person.id}`,person)\n}\nconst deleteContact = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {getAllContacts,addNewContact,updateContact,deleteContact}","import React, { useState} from 'react';\nimport contactService from '../services/contacts'\n\nconst Form = ({persons,setPersons,setAlertMsg}) => {\n    const [newName,setNewName] = useState('')\n    const [newNumber,setNewNumber] = useState('')\n  \n    const handleChangeName = (event) => setNewName(event.target.value)  \n    const handleChangeNumber = (event) => setNewNumber(event.target.value) \n  \n    const onSubmitPhonebook = (event) =>{\n      event.preventDefault()\n      const person = persons.find((person) => person.name === newName)\n      if(person !== undefined){ \n        const confirm = window.confirm(`${person.name} is already on the list, replace old number with a new one?`)\n        if(confirm){\n          contactService.updateContact({...person,number:newNumber}).then(()=>{\n            setPersons(persons.map(per=>(per.id===person.id)?{...per,number:newNumber}:per)) \n\n            setAlertMsg({isError:false,message:`Updated ${newName}`})\n            setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)        \n            setNewName('')\n            setNewNumber('')\n\n          })\n          .catch(error => {\n            const msg =  error.response.data.error || error.response.data.message \n            setAlertMsg({isError:true,message:`${msg}`})\n            setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),5000)\n          })\n        }      \n      }else{\n        contactService.addNewContact({name: newName.trim(), number:newNumber.trim()})\n          .then(v=>{\n            setPersons(persons.concat(v))\n            setAlertMsg({isError:false,message:`Added ${newName}`})\n            setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n            setNewName('')\n            setNewNumber('')\n          })   \n          .catch(error=>{\n            const msg = error.response.data.message || error.response.data.error\n            setAlertMsg({isError:true,message:`${msg}`})\n            setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),5000)\n          })\n      }\n    }\n    return (\n      <div>\n        <h3>add a new</h3>\n        <form onSubmit={onSubmitPhonebook}>\n          <div>name: <input value={newName} onChange={handleChangeName} /></div>        \n          <div>number: <input value={newNumber} onChange={handleChangeNumber} /></div>\n          <div><button type=\"submit\">Add</button></div>\n        </form>\n      </div>\n    )\n  }\n\n  export default Form","import React from 'react'\n\nconst Notification = ({isError,message}) => {\n    if(message===undefined || message === '') {return null}\n    const base = (color) => {\n      return(\n        {\n          borderRadius: 10,\n          backgroundColor: \"#b3bab5\",\n          border: \"3px solid\",\n          borderColor: color,\n          color: color\n        }\n      )\n    }\n    const color = (isError) ? \"red\" : \"green\"\n    return(\n      <div style={base(color)}>\n       <p>{message}</p>\n      </div>\n    )\n  }\n\nexport default Notification","import React from 'react'\nimport contactService from '../services/contacts'\n\nconst Results = ({persons,setPersons,searchPersonField,setAlertMsg}) => {\n    const onDelete = (name,id) => {\n      if(window.confirm(`Tem certeza que deseja deletar ${name} da lista?`)){\n        contactService.deleteContact(id).then(()=>{\n          setPersons(persons.filter((person) => person.id !== id)) \n          setAlertMsg({isError:false,message:`Deleted ${name}`})\n          setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n        })\n        .catch(e=>{\n          setAlertMsg({isError:true,message:`${e}`})\n          setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n        })\n      }\n    }\n  \n    if(searchPersonField === ''){    \n      return(\n        <div>\n          {persons.map((person,i) => (\n            <p key={i}>{person.name} {person.number} \n              <button onClick={() => onDelete(person.name,person.id)}>Delete</button> \n            </p>\n          )\n          )}\n        </div>\n      )\n    }else{\n      return (\n      <div>\n        {persons.filter( (person) => \n            person.name.toLowerCase().includes(\n              searchPersonField.toLowerCase())).map( \n                (result,i) => (\n                    <p key={i}>{result.name} {result.number}<button>Delete</button></p>\n                )\n              )}\n      </div>\n      )\n    }  \n  }\n\nexport default Results","import React from 'react'\n\nconst SearchInput = ({searchPersonField,handleSearch}) => {\n    return ( \n      <div>filter shown with <input value={searchPersonField} onChange={handleSearch} /></div>\n    )\n    }\n\nexport default SearchInput","import React, { useState, useEffect} from 'react';\nimport contactService from './services/contacts'\nimport Form from './components/Form'\nimport Notification from \"./components/Notification\"\nimport Results from \"./components/Results\"\nimport SearchInput from \"./components/SearchInput\"\n\nconst App = () => {\n  const [persons,setPersons] = useState([])  \n  const [searchPersonField,setSearchField] = useState('')\n  const [alertMsg, setAlertMsg] = useState({isError:false,message:\"\"})\n  \n  useEffect(()=>{contactService.getAllContacts().then(v => setPersons(v))}, [])\n   \n  const handleSearch = (event) => setSearchField(event.target.value)   \n  \n  const propsObj = {\n    formProps: {persons,setPersons,setAlertMsg},\n    searchProps: {searchPersonField,handleSearch},\n    resultsProps: {persons,setPersons,searchPersonField,setAlertMsg}\n  }\n  \n  return(\n    <div>\n      <h2>Phonebook</h2>\n      <Notification {...alertMsg} />\n      <SearchInput {...propsObj.searchProps}/>\n      <Form {...propsObj.formProps} />\n      <h2>Numbers</h2>\n      <Results {...propsObj.resultsProps}/> \n    </div>    \n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}