{"version":3,"sources":["services/contacts.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","person","post","put","id","delete","Notification","isError","message","undefined","color","style","borderRadius","backgroundColor","border","borderColor","base","Form","persons","setPersons","setAlertMsg","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","setTimeout","find","name","window","confirm","contactService","number","map","per","catch","e","Math","random","v","concat","value","onChange","target","type","SearchInput","searchPersonField","handleSearch","Results","i","key","onClick","filter","toLowerCase","includes","result","App","setSearchField","alertMsg","useEffect","propsObj","formProps","searchProps","resultsProps","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fedae316.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = \"/api/persons\"\n\nconst getAllContacts = () =>{\n    return axios.get(baseUrl).then(response=>response.data)    \n}\nconst addNewContact = (person) => {\n    return axios.post(`${baseUrl}`,person).then(response => response.data)\n}\nconst updateContact = (person) => {\n    return axios.put(`${baseUrl}/${person.id}`,person)\n}\nconst deleteContact = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {getAllContacts,addNewContact,updateContact,deleteContact}","import React, { useState, useEffect} from 'react';\nimport contactService from './services/contacts'\n\nconst Notification = ({isError,message}) => {\n  if(message===undefined || message === '') {return null}\n  const base = (color) => {\n    return(\n      {\n        borderRadius: 10,\n        backgroundColor: \"#b3bab5\",\n        border: \"3px solid\",\n        borderColor: color,\n        color: color\n      }\n    )\n  }\n  const color = (isError) ? \"red\" : \"green\"\n  return(\n    <div style={base(color)}>\n     <p>{message}</p>\n    </div>\n  )\n}\nconst Form = ({persons,setPersons,setAlertMsg}) => {\n  const [newName,setNewName] = useState('')\n  const [newNumber,setNewNumber] = useState('')\n\n  const handleChangeName = (event) => setNewName(event.target.value)  \n  const handleChangeNumber = (event) => setNewNumber(event.target.value) \n\n  const onSubmitPhonebook = (event) =>{\n    event.preventDefault()\n    if(newName === '' || newNumber === ''){ \n      setAlertMsg({isError:true,message:`One or more fields empty`})\n      setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n    }\n\n    const person = persons.find((person) => person.name === newName)\n    if(person !== undefined){ \n      if(window.confirm(`${person.name} is already on the list, replace old number with a new one?`)){\n        contactService.updateContact({...person,number:newNumber}).then(()=>{\n          setPersons(persons.map(per=>(per.id===person.id)?{...per,number:newNumber}:per))        \n          setAlertMsg({isError:false,message:`Updated ${newName}`})\n          setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)        \n        })\n        .catch( (e) => {\n          setAlertMsg({isError:true,message:`${e}`})\n          setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000) \n        })\n      }      \n    }else{\n      contactService.addNewContact({name: newName, number:newNumber,id:Math.random})\n        .then(v=>{\n          setPersons(persons.concat(v))\n          setAlertMsg({isError:false,message:`Added ${newName}`})\n          setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n        })   \n        .catch(e=>{\n          setAlertMsg({isError:true,message:`${e}`})\n          setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  return (\n    <div>\n      <h3>add a new</h3>\n      <form onSubmit={onSubmitPhonebook}>\n        <div>name: <input value={newName} onChange={handleChangeName} /></div>        \n        <div>number: <input value={newNumber} onChange={handleChangeNumber} /></div>\n        <div><button type=\"submit\">Add</button></div>\n      </form>\n    </div>\n  )\n}\n\nconst SearchInput = ({searchPersonField,handleSearch}) => {\n  return ( \n    <div>filter shown with <input value={searchPersonField} onChange={handleSearch} /></div>\n  )\n}\n\nconst Results = ({persons,setPersons,searchPersonField,setAlertMsg}) => {\n  const onDelete = (name,id) => {\n    if(window.confirm(`Tem certeza que deseja deletar ${name} da lista?`)){\n      contactService.deleteContact(id).then(()=>{\n        setPersons(persons.filter((person) => person.id !== id)) \n        setAlertMsg({isError:false,message:`Deleted ${name}`})\n        setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n      })\n      .catch(e=>{\n        setAlertMsg({isError:true,message:`${e}`})\n        setTimeout(()=>setAlertMsg({isError:false,message:\"\"}),3000)\n      })\n    }\n  }\n\n  if(searchPersonField === ''){    \n    return(\n      <div>\n        {persons.map((person,i) => (\n          <p key={i}>{person.name} {person.number} \n            <button onClick={() => onDelete(person.name,person.id)}>Delete</button> \n          </p>\n        )\n        )}\n      </div>\n    )\n  }else{\n    return (\n    <div>\n      {persons.filter( (person) => \n          person.name.toLowerCase().includes(\n            searchPersonField.toLowerCase())).map( \n              (result,i) => (\n                  <p key={i}>{result.name} {result.number}<button>Delete</button></p>\n              )\n            )}\n    </div>\n    )\n  }  \n}\nconst App = () => {\n  const [persons,setPersons] = useState([])  \n  const [searchPersonField,setSearchField] = useState('')\n  const [alertMsg, setAlertMsg] = useState({isError:false,message:\"\"})\n  \n  useEffect(()=>{\n    contactService.getAllContacts().then(v => setPersons(v))   \n  }, [])\n\n   \n  const handleSearch = (event) => setSearchField(event.target.value)   \n  \n  const propsObj = {\n    formProps: {persons,setPersons,setAlertMsg},\n    searchProps: {searchPersonField,handleSearch},\n    resultsProps: {persons,setPersons,searchPersonField,setAlertMsg}\n  }\n  \n  return(\n    <div>\n      <h2>Phonebook</h2>\n      <Notification {...alertMsg} />\n      <SearchInput {...propsObj.searchProps}/>\n      <Form {...propsObj.formProps} />\n      <h2>Numbers</h2>\n      <Results {...propsObj.resultsProps}/> \n    </div>    \n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}